\hypertarget{classNLL}{
\section{NLL Class Reference}
\label{classNLL}\index{NLL@{NLL}}
}


Evaluate the likelihood function.  




{\ttfamily \#include $<$nll.h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classNLL_a55bf637cd44c2909738f39136b554f7d}{NLL} (const std::vector$<$ \hyperlink{structSignal}{Signal} $>$ \&signals, TNtuple $\ast$data)
\item 
double \hyperlink{classNLL_a2184173a58f1f0378bf9fb48815f903b}{operator()} (float $\ast$\_\-norms)
\end{DoxyCompactItemize}
\subsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static float $\ast$ \hyperlink{classNLL_aba6f617341942f985efba25f5c34f18f}{build\_\-lut} (const std::vector$<$ \hyperlink{structSignal}{Signal} $>$ \&signals, TNtuple $\ast$data)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classNLL_a93fb66712a12d038e58d4779fb81cd18}{
size\_\-t \hyperlink{classNLL_a93fb66712a12d038e58d4779fb81cd18}{blocksize}}
\label{classNLL_a93fb66712a12d038e58d4779fb81cd18}

\begin{DoxyCompactList}\small\item\em number of threads per block \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_a86fc6895cb00663d7438312efb3e9072}{
size\_\-t \hyperlink{classNLL_a86fc6895cb00663d7438312efb3e9072}{nblocks}}
\label{classNLL_a86fc6895cb00663d7438312efb3e9072}

\begin{DoxyCompactList}\small\item\em number of blocks \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_afcfe286859adfa4943b0d2c044f2845c}{
size\_\-t \hyperlink{classNLL_afcfe286859adfa4943b0d2c044f2845c}{nthreads}}
\label{classNLL_afcfe286859adfa4943b0d2c044f2845c}

\begin{DoxyCompactList}\small\item\em number of CUDA threads to run \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_a811859dca6a5cec58be3077686051f3a}{
unsigned \hyperlink{classNLL_a811859dca6a5cec58be3077686051f3a}{nsignals}}
\label{classNLL_a811859dca6a5cec58be3077686051f3a}

\begin{DoxyCompactList}\small\item\em number of signal dimensions \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_ae5765088b57d57ed189d2a8ca5f84b19}{
unsigned \hyperlink{classNLL_ae5765088b57d57ed189d2a8ca5f84b19}{nevents}}
\label{classNLL_ae5765088b57d57ed189d2a8ca5f84b19}

\begin{DoxyCompactList}\small\item\em number of events in dataset \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_a12c5d6460dce941b8990cac39a975349}{
double $\ast$ \hyperlink{classNLL_a12c5d6460dce941b8990cac39a975349}{expectations}}
\label{classNLL_a12c5d6460dce941b8990cac39a975349}

\begin{DoxyCompactList}\small\item\em signals expectation values \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_a25e6f4440e8dda87df2317f8575e07f1}{
double $\ast$ \hyperlink{classNLL_a25e6f4440e8dda87df2317f8575e07f1}{constraints}}
\label{classNLL_a25e6f4440e8dda87df2317f8575e07f1}

\begin{DoxyCompactList}\small\item\em fractional constraints \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_a6abb7d949ea24d864f684107b1fe3132}{
double $\ast$ \hyperlink{classNLL_a6abb7d949ea24d864f684107b1fe3132}{sums}}
\label{classNLL_a6abb7d949ea24d864f684107b1fe3132}

\begin{DoxyCompactList}\small\item\em output sums, host side \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_a6741eccf6cf2203b2cf5c1a9feb4687d}{
double $\ast$ \hyperlink{classNLL_a6741eccf6cf2203b2cf5c1a9feb4687d}{sums\_\-device}}
\label{classNLL_a6741eccf6cf2203b2cf5c1a9feb4687d}

\begin{DoxyCompactList}\small\item\em output sums, device side \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_a889d187cd0ec1ab36d88f363cb64ceff}{
float $\ast$ \hyperlink{classNLL_a889d187cd0ec1ab36d88f363cb64ceff}{normalizations}}
\label{classNLL_a889d187cd0ec1ab36d88f363cb64ceff}

\begin{DoxyCompactList}\small\item\em normalizations, host side \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_a4d3d3ec4af173cad23a44679b0b20a76}{
float $\ast$ \hyperlink{classNLL_a4d3d3ec4af173cad23a44679b0b20a76}{normalizations\_\-device}}
\label{classNLL_a4d3d3ec4af173cad23a44679b0b20a76}

\begin{DoxyCompactList}\small\item\em normalizations, device side \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_af2874b0225be1a364da0cf82adf1a551}{
float $\ast$ \hyperlink{classNLL_af2874b0225be1a364da0cf82adf1a551}{lut}}
\label{classNLL_af2874b0225be1a364da0cf82adf1a551}

\begin{DoxyCompactList}\small\item\em lookup table, host side \item\end{DoxyCompactList}\item 
\hypertarget{classNLL_a01b4aad101d84ec9071d97107cf70824}{
float $\ast$ \hyperlink{classNLL_a01b4aad101d84ec9071d97107cf70824}{lut\_\-device}}
\label{classNLL_a01b4aad101d84ec9071d97107cf70824}

\begin{DoxyCompactList}\small\item\em lookup table, device side \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Evaluate the likelihood function. This functor evaluates the negative log likelihood function. A lookup table of the PDFs evaluated at each event (Pj(xi)) is constructed, and an evaluation consists of looping over events and scaling the LUT entries by the desired parameters.

This time-\/consuming loop is run on a GPU using CUDA. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classNLL_a55bf637cd44c2909738f39136b554f7d}{
\index{NLL@{NLL}!NLL@{NLL}}
\index{NLL@{NLL}!NLL@{NLL}}
\subsubsection[{NLL}]{\setlength{\rightskip}{0pt plus 5cm}NLL::NLL (const std::vector$<$ {\bf Signal} $>$ \& {\em signals}, \/  TNtuple $\ast$ {\em data})}}
\label{classNLL_a55bf637cd44c2909738f39136b554f7d}
Constructor


\begin{DoxyParams}{Parameters}
\item[{\em signals}]set of Signals defining the PDFs \item[{\em data}]TNtuple containing the experiment's dataset \end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classNLL_aba6f617341942f985efba25f5c34f18f}{
\index{NLL@{NLL}!build\_\-lut@{build\_\-lut}}
\index{build\_\-lut@{build\_\-lut}!NLL@{NLL}}
\subsubsection[{build\_\-lut}]{\setlength{\rightskip}{0pt plus 5cm}static float$\ast$ NLL::build\_\-lut (const std::vector$<$ {\bf Signal} $>$ \& {\em signals}, \/  TNtuple $\ast$ {\em data})\hspace{0.3cm}{\ttfamily  \mbox{[}static, protected\mbox{]}}}}
\label{classNLL_aba6f617341942f985efba25f5c34f18f}
Build a lookup table of probabilities Pj(xi).


\begin{DoxyParams}{Parameters}
\item[{\em signals}]set of Signals defining the PDFs \item[{\em data}]TNtuple containing the experiment's dataset \end{DoxyParams}
\hypertarget{classNLL_a2184173a58f1f0378bf9fb48815f903b}{
\index{NLL@{NLL}!operator()@{operator()}}
\index{operator()@{operator()}!NLL@{NLL}}
\subsubsection[{operator()}]{\setlength{\rightskip}{0pt plus 5cm}double NLL::operator() (float $\ast$ {\em \_\-norms})}}
\label{classNLL_a2184173a58f1f0378bf9fb48815f903b}
Evaluate the \hyperlink{classNLL}{NLL} function at the given parameter values.


\begin{DoxyParams}{Parameters}
\item[{\em \_\-norms}]Normalizations at which to evaluate the function. These should be ordered the same as the signals. \end{DoxyParams}


The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
nll.h\end{DoxyCompactItemize}
